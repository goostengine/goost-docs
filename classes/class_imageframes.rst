:github_url: hide

.. Generated automatically by doc/tools/makerst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the ImageFrames.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_ImageFrames:

ImageFrames
===========

**Inherits:** :ref:`Resource<class_Resource>` **<** :ref:`Reference<class_Reference>` **<** :ref:`Object<class_Object>`

A container for :ref:`Image<class_Image>` frames.

Description
-----------

A class used to load and arrange a sequence of image frames. Allows to load animated image formats externally (only GIF is supported currently). Each frame can specify a delay for animated images. The data can then be used to generate an :ref:`AnimatedTexture<class_AnimatedTexture>` or a :ref:`SpriteFrames<class_SpriteFrames>` via script.

Methods
-------

+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`add_frame<class_ImageFrames_method_add_frame>` **(** :ref:`Image<class_Image>` image, :ref:`float<class_float>` delay=-1 **)**                                      |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`clear<class_ImageFrames_method_clear>` **(** **)**                                                                                                                  |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                 | :ref:`get_frame_count<class_ImageFrames_method_get_frame_count>` **(** **)** |const|                                                                                      |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`             | :ref:`get_frame_delay<class_ImageFrames_method_get_frame_delay>` **(** :ref:`int<class_int>` index **)** |const|                                                          |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Image<class_Image>`             | :ref:`get_frame_image<class_ImageFrames_method_get_frame_image>` **(** :ref:`int<class_int>` index **)** |const|                                                          |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Error<enum_@GlobalScope_Error>` | :ref:`load<class_ImageFrames_method_load>` **(** :ref:`String<class_String>` path, :ref:`int<class_int>` max_frames=0 **)**                                               |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Error<enum_@GlobalScope_Error>` | :ref:`load_gif_from_buffer<class_ImageFrames_method_load_gif_from_buffer>` **(** :ref:`PoolByteArray<class_PoolByteArray>` data, :ref:`int<class_int>` max_frames=0 **)** |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`remove_frame<class_ImageFrames_method_remove_frame>` **(** :ref:`int<class_int>` index **)**                                                                        |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`Error<enum_@GlobalScope_Error>` | :ref:`save_gif<class_ImageFrames_method_save_gif>` **(** :ref:`String<class_String>` filepath, :ref:`int<class_int>` color_count=256 **)**                                |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`set_frame_delay<class_ImageFrames_method_set_frame_delay>` **(** :ref:`int<class_int>` index, :ref:`float<class_float>` delay **)**                                 |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                  | :ref:`set_frame_image<class_ImageFrames_method_set_frame_image>` **(** :ref:`int<class_int>` index, :ref:`Image<class_Image>` image **)**                                 |
+---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Method Descriptions
-------------------

.. _class_ImageFrames_method_add_frame:

- void **add_frame** **(** :ref:`Image<class_Image>` image, :ref:`float<class_float>` delay=-1 **)**

Adds a new frame.

----

.. _class_ImageFrames_method_clear:

- void **clear** **(** **)**

Removes all frames.

----

.. _class_ImageFrames_method_get_frame_count:

- :ref:`int<class_int>` **get_frame_count** **(** **)** |const|

Returns the total number of frames.

----

.. _class_ImageFrames_method_get_frame_delay:

- :ref:`float<class_float>` **get_frame_delay** **(** :ref:`int<class_int>` index **)** |const|

Returns the delay of frame ``idx``.

----

.. _class_ImageFrames_method_get_frame_image:

- :ref:`Image<class_Image>` **get_frame_image** **(** :ref:`int<class_int>` index **)** |const|

Returns the :ref:`Image<class_Image>` of frame ``idx``.

----

.. _class_ImageFrames_method_load:

- :ref:`Error<enum_@GlobalScope_Error>` **load** **(** :ref:`String<class_String>` path, :ref:`int<class_int>` max_frames=0 **)**

Loads the data from a file located at ``path``. Recognizes the following file extensions: ``gif``. The ``max_frames`` parameter limits the number of frames which can be loaded.

----

.. _class_ImageFrames_method_load_gif_from_buffer:

- :ref:`Error<enum_@GlobalScope_Error>` **load_gif_from_buffer** **(** :ref:`PoolByteArray<class_PoolByteArray>` data, :ref:`int<class_int>` max_frames=0 **)**

Loads the data from a :ref:`PoolByteArray<class_PoolByteArray>` GIF buffer. The ``max_frames`` parameter limits the number of frames which can be loaded.

----

.. _class_ImageFrames_method_remove_frame:

- void **remove_frame** **(** :ref:`int<class_int>` index **)**

Removes the frame ``idx``.

----

.. _class_ImageFrames_method_save_gif:

- :ref:`Error<enum_@GlobalScope_Error>` **save_gif** **(** :ref:`String<class_String>` filepath, :ref:`int<class_int>` color_count=256 **)**

Saves a GIF file using frames added with :ref:`add_frame<class_ImageFrames_method_add_frame>`. If there are multiple images, creates an animated GIF, taking into account individual frame delays. If there's only one image, GIF is written as a static image.

The ``color_count`` parameter specifies the number of colors in GIF color map. The number of colors are rounded to nearest power of two, and the maximum number of colors is ``256``.

Frames can have different sizes. Dimensions of the first frame is taken as the base canvas size.

Note that GIF animation timing is measured in hundredths of a second, and delay values below ``0.02`` may fallback to ``1.0`` second when rendered on screen, which depends on application displaying such a GIF.

This method depends on :ref:`ImageIndexed<class_ImageIndexed>` used to generate image palette required to write GIF files. By default, indexed images will be created from all images in ``ImageFrames``. If ``ImageFrames`` already contains :ref:`ImageIndexed<class_ImageIndexed>`, then you must ensure that :ref:`ImageIndexed<class_ImageIndexed>` has color palette already generated with :ref:`ImageIndexed.generate_palette<class_ImageIndexed_method_generate_palette>` prior to calling this method.

----

.. _class_ImageFrames_method_set_frame_delay:

- void **set_frame_delay** **(** :ref:`int<class_int>` index, :ref:`float<class_float>` delay **)**

Sets the delay in seconds of frame ``idx``.

----

.. _class_ImageFrames_method_set_frame_image:

- void **set_frame_image** **(** :ref:`int<class_int>` index, :ref:`Image<class_Image>` image **)**

Sets the :ref:`Image<class_Image>` of frame ``idx``.

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
