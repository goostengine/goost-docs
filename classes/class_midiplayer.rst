:github_url: hide

.. Generated automatically by doc/tools/make_rst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the MidiPlayer.xml source instead.
.. The source is found in doc/classes or modules/<name>/doc_classes.

.. _class_MidiPlayer:

MidiPlayer
==========

**Inherits:** :ref:`AudioStreamPlayer<class_AudioStreamPlayer>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

**A MIDI player class.**

Description
-----------

The MidiPlayer class can play MIDI files. It does this using a collection of sounds called SoundFont which was originally invented in the early 1990s by Creative Labs for their SoundBlaser AWE32 sound card. The MIDI specification is even older from 1983.

Although these technologies old, they are still used today in music industry because they are so incredibly handy. MIDI specifically has seen continous with minimal changes since since inception.

In order to use this class you will need to setup a few things. First you will need to add this node to the tree. Then you will need to add an AudioStreamGenerator. Finally you will need to load a SoundFont and the MIDI file. You can find MIDI music and General Midi SoundFonts online.

**List of keywords:**

``channel:`` Audio channels allow notes to play at the same time on top of each other. Usually there are maximum of 16 channel (depending on the implementation).  

``preset:`` The preset is an instrument (Piano, Harpsichord, etc) which is organized in sound banks. 

``bank:`` Each sound back contains a number of samples. Drums (usually preset 10) contain very different sample and are usually handled by a special drum mode.

``note:`` is the note to play (also called key from keyboard). It must be a value between 0 and 127. Here 60 is middle C (C4).

``volume:`` Also called velocity. A value of 0.0 means no sound, a value of 1.0 means maximum volume.

Properties
----------

+---------------------------+---------------------------------------------------------+----------+
| :ref:`bool<class_bool>`   | :ref:`looping<class_MidiPlayer_property_looping>`       | ``true`` |
+---------------------------+---------------------------------------------------------+----------+
| :ref:`float<class_float>` | :ref:`midi_speed<class_MidiPlayer_property_midi_speed>` | ``1.0``  |
+---------------------------+---------------------------------------------------------+----------+

Methods
-------

+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                     | :ref:`channel_get_pan<class_MidiPlayer_method_channel_get_pan>` **(** :ref:`int<class_int>` channel **)**                                                                                       |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                     | :ref:`channel_get_pitchrange<class_MidiPlayer_method_channel_get_pitchrange>` **(** :ref:`int<class_int>` channel **)**                                                                         |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`channel_get_pitchwheel<class_MidiPlayer_method_channel_get_pitchwheel>` **(** :ref:`int<class_int>` channel **)**                                                                         |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`channel_get_preset_bank<class_MidiPlayer_method_channel_get_preset_bank>` **(** :ref:`int<class_int>` channel **)**                                                                       |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`channel_get_preset_index<class_MidiPlayer_method_channel_get_preset_index>` **(** :ref:`int<class_int>` channel **)**                                                                     |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`channel_get_preset_number<class_MidiPlayer_method_channel_get_preset_number>` **(** :ref:`int<class_int>` channel **)**                                                                   |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                     | :ref:`channel_get_tuning<class_MidiPlayer_method_channel_get_tuning>` **(** :ref:`int<class_int>` channel **)**                                                                                 |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`float<class_float>`                     | :ref:`channel_get_volume<class_MidiPlayer_method_channel_get_volume>` **(** :ref:`int<class_int>` channel **)**                                                                                 |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_midi_control<class_MidiPlayer_method_channel_midi_control>` **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` control, :ref:`int<class_int>` value **)**                 |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_note_off<class_MidiPlayer_method_channel_note_off>` **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` note **)**                                                         |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_note_off_all<class_MidiPlayer_method_channel_note_off_all>` **(** :ref:`int<class_int>` channel **)**                                                                             |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_note_on<class_MidiPlayer_method_channel_note_on>` **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` note, :ref:`float<class_float>` volume **)**                         |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_set_bank<class_MidiPlayer_method_channel_set_bank>` **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` bank **)**                                                         |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`channel_set_bank_preset<class_MidiPlayer_method_channel_set_bank_preset>` **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` bank, :ref:`int<class_int>` preset **)**             |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_set_pan<class_MidiPlayer_method_channel_set_pan>` **(** :ref:`int<class_int>` channel, :ref:`float<class_float>` pan **)**                                                        |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_set_pitchrange<class_MidiPlayer_method_channel_set_pitchrange>` **(** :ref:`int<class_int>` channel, :ref:`float<class_float>` pitchrange **)**                                   |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_set_pitchwheel<class_MidiPlayer_method_channel_set_pitchwheel>` **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` pitchwheel **)**                                       |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_set_preset_index<class_MidiPlayer_method_channel_set_preset_index>` **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` preset_index **)**                                 |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`                         | :ref:`channel_set_preset_number<class_MidiPlayer_method_channel_set_preset_number>` **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` preset_number, :ref:`int<class_int>` drums **)** |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_set_tuning<class_MidiPlayer_method_channel_set_tuning>` **(** :ref:`int<class_int>` channel, :ref:`float<class_float>` tuning **)**                                               |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`channel_set_volume<class_MidiPlayer_method_channel_set_volume>` **(** :ref:`int<class_int>` channel, :ref:`float<class_float>` volume **)**                                               |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                   | :ref:`get_midi<class_MidiPlayer_method_get_midi>` **(** **)** |const|                                                                                                                           |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`PoolStringArray<class_PoolStringArray>` | :ref:`get_preset_names<class_MidiPlayer_method_get_preset_names>` **(** **)** |const|                                                                                                           |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :ref:`String<class_String>`                   | :ref:`get_soundfont<class_MidiPlayer_method_get_soundfont>` **(** **)** |const|                                                                                                                 |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`load_midi<class_MidiPlayer_method_load_midi>` **(** :ref:`String<class_String>` midi_file **)**                                                                                           |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`load_soundfont<class_MidiPlayer_method_load_soundfont>` **(** :ref:`String<class_String>` soundfont_file **)**                                                                            |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`note_off<class_MidiPlayer_method_note_off>` **(** :ref:`int<class_int>` preset, :ref:`int<class_int>` note **)**                                                                          |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`note_off_all<class_MidiPlayer_method_note_off_all>` **(** **)**                                                                                                                           |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| void                                          | :ref:`note_on<class_MidiPlayer_method_note_on>` **(** :ref:`int<class_int>` preset, :ref:`int<class_int>` note, :ref:`float<class_float>` volume **)**                                          |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Signals
-------

.. _class_MidiPlayer_signal_loop_finished:

- **loop_finished** **(** **)**

Emitted when the MIDI song finished playing one single loop. This signal is emitted only if looping is ``true``.

Property Descriptions
---------------------

.. _class_MidiPlayer_property_looping:

- :ref:`bool<class_bool>` **looping**

+-----------+--------------------+
| *Default* | ``true``           |
+-----------+--------------------+
| *Setter*  | set_looping(value) |
+-----------+--------------------+
| *Getter*  | get_looping()      |
+-----------+--------------------+

When set to ``true``, MIDI file will loop forever.

----

.. _class_MidiPlayer_property_midi_speed:

- :ref:`float<class_float>` **midi_speed**

+-----------+-----------------------+
| *Default* | ``1.0``               |
+-----------+-----------------------+
| *Setter*  | set_midi_speed(value) |
+-----------+-----------------------+
| *Getter*  | get_midi_speed()      |
+-----------+-----------------------+

Controls the MIDI file playback speed.

Method Descriptions
-------------------

.. _class_MidiPlayer_method_channel_get_pan:

- :ref:`float<class_float>` **channel_get_pan** **(** :ref:`int<class_int>` channel **)**

Returns the panning of the specified channel.

----

.. _class_MidiPlayer_method_channel_get_pitchrange:

- :ref:`float<class_float>` **channel_get_pitchrange** **(** :ref:`int<class_int>` channel **)**

Get the pitch range of a channel.

----

.. _class_MidiPlayer_method_channel_get_pitchwheel:

- :ref:`int<class_int>` **channel_get_pitchwheel** **(** :ref:`int<class_int>` channel **)**

Get the pitch wheel value for the specified channel.

----

.. _class_MidiPlayer_method_channel_get_preset_bank:

- :ref:`int<class_int>` **channel_get_preset_bank** **(** :ref:`int<class_int>` channel **)**

Get the preset sample bank for the specified channel.

----

.. _class_MidiPlayer_method_channel_get_preset_index:

- :ref:`int<class_int>` **channel_get_preset_index** **(** :ref:`int<class_int>` channel **)**

Get the preset index for the specified channel.

----

.. _class_MidiPlayer_method_channel_get_preset_number:

- :ref:`int<class_int>` **channel_get_preset_number** **(** :ref:`int<class_int>` channel **)**

Get the preset number for the specified channel.

----

.. _class_MidiPlayer_method_channel_get_tuning:

- :ref:`float<class_float>` **channel_get_tuning** **(** :ref:`int<class_int>` channel **)**

Get the tuning of a channel.

----

.. _class_MidiPlayer_method_channel_get_volume:

- :ref:`float<class_float>` **channel_get_volume** **(** :ref:`int<class_int>` channel **)**

Get the volume of a channel.

----

.. _class_MidiPlayer_method_channel_midi_control:

- void **channel_midi_control** **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` control, :ref:`int<class_int>` value **)**

MIDI controls are used to produce specialized effects.

----

.. _class_MidiPlayer_method_channel_note_off:

- void **channel_note_off** **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` note **)**

Stop playing a specific note on a specific channel.

----

.. _class_MidiPlayer_method_channel_note_off_all:

- void **channel_note_off_all** **(** :ref:`int<class_int>` channel **)**

Stop all notes on a channel.

----

.. _class_MidiPlayer_method_channel_note_on:

- void **channel_note_on** **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` note, :ref:`float<class_float>` volume **)**

Start playing a note on a specific channel.

----

.. _class_MidiPlayer_method_channel_set_bank:

- void **channel_set_bank** **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` bank **)**

Defines the bank number for the specified channel. Bank is a collection of sound samples.

----

.. _class_MidiPlayer_method_channel_set_bank_preset:

- :ref:`int<class_int>` **channel_set_bank_preset** **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` bank, :ref:`int<class_int>` preset **)**

Defines the bank and preset for a channel.

----

.. _class_MidiPlayer_method_channel_set_pan:

- void **channel_set_pan** **(** :ref:`int<class_int>` channel, :ref:`float<class_float>` pan **)**

Defines left and right panning of a channel.

----

.. _class_MidiPlayer_method_channel_set_pitchrange:

- void **channel_set_pitchrange** **(** :ref:`int<class_int>` channel, :ref:`float<class_float>` pitchrange **)**

The the pitch range  for a channel.

----

.. _class_MidiPlayer_method_channel_set_pitchwheel:

- void **channel_set_pitchwheel** **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` pitchwheel **)**

Set the pitch wheel value for a channel.

----

.. _class_MidiPlayer_method_channel_set_preset_index:

- void **channel_set_preset_index** **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` preset_index **)**

Set the preset index for a channel.

----

.. _class_MidiPlayer_method_channel_set_preset_number:

- :ref:`int<class_int>` **channel_set_preset_number** **(** :ref:`int<class_int>` channel, :ref:`int<class_int>` preset_number, :ref:`int<class_int>` drums **)**

Set the preset number of a channel. Drums is usually preset 10.

----

.. _class_MidiPlayer_method_channel_set_tuning:

- void **channel_set_tuning** **(** :ref:`int<class_int>` channel, :ref:`float<class_float>` tuning **)**

Set the tuning of a channel. Tuning is a float value between -1.0 and 1.0.

----

.. _class_MidiPlayer_method_channel_set_volume:

- void **channel_set_volume** **(** :ref:`int<class_int>` channel, :ref:`float<class_float>` volume **)**

Set volume of a channel.

----

.. _class_MidiPlayer_method_get_midi:

- :ref:`String<class_String>` **get_midi** **(** **)** |const|

Return the Midi file name and path.

----

.. _class_MidiPlayer_method_get_preset_names:

- :ref:`PoolStringArray<class_PoolStringArray>` **get_preset_names** **(** **)** |const|

Returns a list of preset names stored in the SoundFont.

----

.. _class_MidiPlayer_method_get_soundfont:

- :ref:`String<class_String>` **get_soundfont** **(** **)** |const|

Returns the full path of the soundfont currently loaded.

----

.. _class_MidiPlayer_method_load_midi:

- void **load_midi** **(** :ref:`String<class_String>` midi_file **)**

Loads a MIDI file. It must be a .mid or .midi file and the correct format.

**Note:** A SoundFont file and a playback stream must exist in order for the file to actually play.

----

.. _class_MidiPlayer_method_load_soundfont:

- void **load_soundfont** **(** :ref:`String<class_String>` soundfont_file **)**

Loads a SoundFont 2 file. It must be an .sf2 file.

----

.. _class_MidiPlayer_method_note_off:

- void **note_off** **(** :ref:`int<class_int>` preset, :ref:`int<class_int>` note **)**

Stop playing a specific note.

----

.. _class_MidiPlayer_method_note_off_all:

- void **note_off_all** **(** **)**

Stop playing all notes.

----

.. _class_MidiPlayer_method_note_on:

- void **note_on** **(** :ref:`int<class_int>` preset, :ref:`int<class_int>` note, :ref:`float<class_float>` volume **)**

Start playing a single note.

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
